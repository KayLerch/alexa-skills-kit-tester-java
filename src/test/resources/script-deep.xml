<?xml version="1.0"?>
<test xmlns="http://klerch.io/alexa/skills-kit-tester"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://klerch.io/alexa/skills-kit-tester testScript.xsd">
    <configuration>
        <endpoint>myLambdaFunctionName</endpoint>
        <locale>de-DE</locale>
        <timestamp>2010-09-30T11:11:11Z</timestamp>
        <user id="myUserId" accessToken="myAccessToken" />
        <application id="myApplicationId" />
        <debugFlagSessionAttribute>myDebugFlag</debugFlagSessionAttribute>
    </configuration>
    <sessions>
        <session>
            <launch>
                <assertSessionStateEquals key="myDebugFlag" value="true" />
                <isTrue assertion="HasCard">
                    <yes>
                        <assertExists asset="Card" />
                        <matches asset="OutputSpeechSsml" value=".*test.*">
                            <yes>
                                <assertSessionStillOpen />
                                <isTrue assertion="HasDirective">
                                    <help>
                                        <assertExists asset="DirectiveClearQueue"/>
                                    </help>
                                </isTrue>
                            </yes>
                            <cancel>
                                <assertSessionStillOpen />
                            </cancel>
                        </matches>
                    </yes>
                </isTrue>
                <isFalse assertion="HasDirective">
                    <no>
                        <assertNotExists asset="DirectiveClearQueue" />
                    </no>
                    <delay value="1000"/>
                </isFalse>
            </launch>
            <delay value="1000" />
            <intent name="intent0">
                <assertTrue assertion="HasCard" />
                <assertFalse assertion="SessionEnded" />
                <assertNotExists asset="OutputSpeechPlainText" />
                <assertNotEquals asset="OutputSpeechPlainText" value="test"/>
                <assertMatches asset="OutputSpeechSsml" value=".*test.*" />
                <assertExists asset="OutputSpeechSsml" />
            </intent>
            <intent name="intent1">
                <request>
                    <slots>
                        <slot key="slot1" value="val" />
                        <slot key="slot2" value="123" />
                    </slots>
                </request>
                <assertSessionStateEquals key="slot1" value="val" />
                <assertSessionStateEquals key="slot2" value="123" />
                <assertSessionStateEquals key="myDebugFlag" value="true" />
            </intent>
            <yes>
                <assertSessionStateEquals key="intent" value="AMAZON.YesIntent" />
                <assertSessionStateEquals key="slot1" value="val" />
                <assertSessionStateEquals key="slot2" value="123" />
                <assertSessionStillOpen />
            </yes>
            <no>
                <assertSessionStateEquals key="intent" value="AMAZON.NoIntent" />
                <assertSessionStillOpen />
            </no>
            <repeat>
                <assertSessionStateEquals key="intent" value="AMAZON.RepeatIntent" />
                <assertSessionStillOpen />
            </repeat>
            <cancel>
                <assertSessionStateEquals key="intent" value="AMAZON.CancelIntent" />
                <assertSessionStillOpen />
            </cancel>
            <stop>
                <assertSessionStateEquals key="intent" value="AMAZON.StopIntent" />
                <assertSessionStillOpen />
            </stop>
            <startOver>
                <assertSessionStateEquals key="intent" value="AMAZON.StartOverIntent" />
                <assertSessionStillOpen />
            </startOver>
            <help>
                <assertSessionStateEquals key="intent" value="AMAZON.HelpIntent" />
                <assertSessionStillOpen />
            </help>
        </session>
    </sessions>
</test>